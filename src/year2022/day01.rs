pub fn part1(input: &str) -> i32 {
    *parse(input).iter().max().expect("ERROR")
}

pub fn part2(input: &str) -> i32 {
    let mut energy = parse(input);
    energy.sort_by(|a, b| b.cmp(a));
    energy.iter().take(3).sum()
}

fn parse(input: &str) -> Vec<i32> {
    let elves = input.split("\n\n");
    let energy_per_elf = elves.map(|group| group.lines()
        .map(|line| line.parse::<i32>().expect("Invalid input!"))
        .sum()
    );
    energy_per_elf.collect()
}

#[cfg(test)]
mod tests {
    use super::*;
    use crate::test_support;

    #[test]
    fn part1_solution() {
        let result = test_support::do_part(part1, INPUT);
        assert_eq!(result, 69836);
    }

    #[test]
    fn part2_solution() {
        let result = test_support::do_part(part2, INPUT);
        assert_eq!(result, 207968);
    }

    const INPUT: &str = "9057\n8878\n2753\n7027\n3880\n7154\n8022\n6710\n5721\n\n4863\n3690\n3333\n1831\n5293\n6258\n1212\n4255\n2331\n3785\n1505\n3355\n3353\n4416\n\n5918\n3076\n2145\n2712\n6087\n4310\n1084\n5807\n1342\n2770\n5095\n4696\n5842\n4555\n5388\n\n20770\n\n3968\n15647\n3933\n15427\n16179\n\n40721\n\n5837\n4419\n2159\n5173\n5215\n1991\n4842\n5642\n5435\n2853\n1055\n1667\n4361\n2316\n1974\n\n24315\n6376\n6153\n\n3142\n4989\n8864\n3819\n9260\n1273\n2773\n\n9320\n4936\n3707\n2103\n8804\n10586\n2018\n3779\n\n4129\n1019\n5054\n9429\n10526\n6314\n\n13364\n14437\n14046\n7931\n11712\n\n2615\n9583\n7471\n3552\n7532\n5797\n1528\n6479\n2595\n\n8758\n1774\n3734\n5159\n7046\n2195\n9245\n\n12116\n3801\n10950\n1935\n11450\n1091\n5891\n\n7792\n4901\n9062\n8640\n6065\n6405\n3606\n2487\n6606\n\n5460\n3272\n1310\n1439\n3753\n3947\n4472\n4155\n2056\n2435\n2235\n3662\n2933\n1110\n1024\n\n1590\n6814\n12646\n1548\n13624\n5239\n\n3955\n2469\n3104\n1548\n4551\n2307\n4450\n4491\n2233\n4706\n5950\n3395\n6592\n\n17731\n18903\n\n6164\n7718\n7297\n3277\n3592\n3462\n7405\n6164\n2559\n5171\n3337\n\n4797\n9455\n13275\n5801\n12597\n2687\n\n3091\n1153\n1733\n5022\n4441\n3163\n2375\n6388\n6061\n1444\n3255\n5828\n4414\n6171\n\n2841\n17670\n14820\n\n2600\n2598\n14037\n10164\n\n10425\n4618\n7656\n6910\n8761\n11429\n11611\n\n2787\n4826\n1527\n5024\n4252\n1393\n6744\n5665\n4601\n4129\n\n6876\n8156\n7854\n6190\n5234\n8616\n1414\n1076\n5161\n\n6343\n7372\n7806\n2309\n7352\n7249\n4239\n5572\n7220\n3920\n6979\n\n11380\n9322\n10505\n1250\n1122\n1996\n5199\n\n7569\n12600\n14729\n2514\n6841\n\n9414\n9386\n10521\n4974\n11016\n11238\n1334\n\n21696\n27477\n\n11623\n11309\n7708\n6139\n2284\n2789\n4566\n\n16850\n5171\n7647\n5516\n\n24499\n\n4040\n7221\n3197\n7251\n8117\n2221\n1881\n5914\n8381\n\n3786\n2055\n5301\n4144\n2543\n1406\n5609\n5064\n2447\n4892\n2306\n1654\n1650\n3528\n\n4187\n2576\n11910\n8331\n11613\n9093\n2752\n\n4166\n6057\n4585\n1942\n5747\n3102\n2501\n4831\n5681\n6596\n4455\n1125\n4887\n\n2083\n10447\n16506\n\n4971\n3313\n1821\n1493\n5920\n3617\n4857\n3995\n5608\n3679\n1463\n3539\n2600\n3574\n2636\n\n2804\n17188\n6966\n15585\n\n13184\n15490\n9948\n14350\n12788\n\n31669\n\n3318\n2544\n7560\n2170\n9138\n2905\n7010\n\n3933\n4835\n4704\n2140\n1896\n4951\n3870\n4241\n2819\n1065\n3605\n5667\n2361\n2642\n1926\n\n6614\n3288\n3982\n7283\n7086\n2308\n3237\n7365\n6767\n6931\n5417\n5180\n\n40453\n\n4946\n4257\n2590\n5342\n3880\n6297\n1472\n2441\n4054\n3490\n5054\n\n26102\n29920\n\n3726\n\n18600\n1537\n7197\n3487\n\n8193\n8147\n5901\n1975\n3872\n8834\n1623\n6604\n\n4501\n3385\n5321\n6771\n2517\n3943\n2744\n1330\n2277\n2344\n6399\n2090\n3571\n\n8236\n6575\n6362\n3878\n7021\n8613\n3520\n3424\n2606\n5607\n\n10326\n9793\n3341\n7238\n3008\n8188\n11807\n\n3755\n16826\n7885\n11677\n\n5980\n6793\n2393\n5757\n2525\n6496\n6420\n6902\n6755\n1023\n4226\n1451\n5006\n\n6122\n3263\n4273\n2775\n2251\n1076\n2995\n5662\n4189\n2687\n5552\n6586\n2418\n\n9994\n10470\n7802\n9572\n9292\n8390\n8803\n4013\n\n28290\n\n3210\n9126\n1346\n7538\n11536\n10544\n7409\n\n20799\n16110\n\n3374\n3818\n1924\n1637\n3258\n5224\n4741\n2689\n1455\n5948\n4813\n3549\n2772\n2562\n4358\n\n6843\n10575\n7103\n9314\n9901\n3356\n9120\n4552\n\n7709\n3977\n6868\n4640\n4665\n7109\n2662\n5682\n5388\n4256\n7249\n\n69796\n\n8596\n1275\n2723\n2202\n5544\n3687\n4055\n3062\n4137\n4407\n\n4870\n2559\n2177\n5239\n1059\n4440\n2536\n1728\n1520\n2572\n2977\n6815\n4679\n\n9042\n8883\n2705\n16255\n7889\n\n2318\n4232\n1042\n3075\n6202\n7568\n2519\n5918\n1812\n3750\n3845\n\n13323\n33324\n\n13742\n1087\n17146\n14863\n\n2686\n4132\n5052\n4751\n4695\n4528\n4801\n5741\n6027\n1754\n5633\n2427\n4679\n5777\n3143\n\n1533\n4361\n2196\n10184\n3981\n6223\n9273\n\n1296\n11261\n5647\n8657\n7235\n1788\n\n3467\n5537\n10807\n4793\n3452\n12209\n\n5745\n5137\n4002\n4824\n2655\n7597\n5748\n5931\n5264\n4469\n8009\n\n4436\n4866\n3784\n5181\n6240\n6027\n3343\n5780\n2258\n6389\n3827\n6496\n6378\n4831\n\n5894\n7587\n6913\n10950\n6733\n5617\n8084\n\n2446\n5375\n4555\n5327\n1233\n2773\n2701\n5454\n3377\n1217\n5889\n6168\n1056\n\n3468\n2402\n7848\n5652\n1448\n1954\n1021\n7860\n4305\n\n2234\n17391\n5472\n\n2028\n5812\n3091\n5508\n5531\n3554\n3706\n2667\n5670\n4845\n2749\n5569\n4811\n3090\n1063\n\n2144\n5088\n\n20000\n9957\n9049\n3092\n\n12235\n6601\n3496\n16002\n1378\n\n8800\n1236\n5552\n5693\n8482\n3003\n1126\n4612\n5833\n8430\n\n6223\n4640\n1392\n2667\n1602\n2308\n4433\n4148\n6467\n1817\n2926\n3884\n6015\n\n2273\n3007\n4509\n2902\n4170\n2731\n4409\n4873\n4237\n2667\n4243\n5788\n3673\n4582\n4696\n\n27388\n26736\n\n44158\n\n4877\n2172\n5968\n1222\n6456\n6920\n3593\n3631\n7213\n3968\n2398\n7264\n\n7126\n30978\n\n4024\n2766\n2721\n2774\n2807\n1584\n2429\n3517\n5260\n4234\n2381\n5066\n4204\n4737\n4031\n\n1528\n2205\n4533\n5873\n1587\n2708\n4198\n5560\n3413\n4058\n1799\n1088\n4285\n6233\n\n44226\n\n12933\n6090\n14830\n\n5766\n2184\n2552\n4757\n1895\n2328\n1265\n5829\n2645\n6110\n6499\n5920\n6421\n2505\n\n5039\n6271\n5081\n10068\n3856\n7103\n\n5441\n2606\n1249\n2526\n1241\n1914\n3734\n4464\n3855\n4761\n5528\n1419\n2772\n1825\n\n3554\n\n8766\n2123\n7372\n7752\n6260\n5632\n3802\n9546\n7769\n\n9108\n4838\n\n1374\n3720\n7558\n4646\n6793\n4704\n3361\n8038\n6147\n2160\n1983\n\n3133\n3621\n6073\n2533\n1644\n5277\n4276\n1921\n6251\n5273\n1571\n3769\n2155\n\n2721\n3793\n4935\n2950\n2399\n1083\n4213\n4958\n1139\n1140\n2454\n3291\n3865\n1667\n4798\n\n5676\n5904\n1356\n1439\n3241\n2933\n4164\n3887\n4712\n2759\n4390\n1274\n6220\n2557\n\n2049\n4787\n1819\n3172\n5511\n1006\n1373\n6094\n3054\n4914\n6057\n4883\n2867\n5363\n3916\n\n11348\n3724\n6793\n7336\n4032\n11297\n\n4231\n4277\n2982\n2408\n5673\n6805\n4710\n7659\n6866\n\n2950\n4018\n6167\n8316\n7308\n4955\n8341\n1512\n3167\n8493\n\n15665\n14654\n1249\n15313\n4636\n\n1494\n3325\n5902\n1393\n6813\n3900\n2827\n5936\n6589\n6847\n4658\n\n11492\n14548\n5203\n15187\n5937\n\n1358\n2801\n1086\n5190\n4022\n5013\n3511\n4398\n1774\n2194\n1887\n5704\n2012\n1259\n\n4763\n2250\n6915\n4281\n1246\n7242\n6049\n5113\n1187\n2486\n6688\n3275\n\n22345\n1336\n11325\n\n6000\n3641\n1082\n2924\n5477\n3336\n4126\n3981\n5359\n1053\n4299\n5952\n4655\n\n46233\n\n17242\n6366\n7866\n\n12504\n4031\n12664\n9756\n12750\n\n3373\n\n3091\n11142\n15034\n1144\n11747\n\n3129\n2007\n8482\n7205\n7734\n8770\n2213\n5582\n5437\n3223\n\n4471\n2591\n3286\n4446\n5388\n3600\n3357\n2644\n5028\n5569\n5055\n3284\n5597\n4116\n1076\n\n3792\n2354\n8030\n3269\n2483\n1302\n7427\n6148\n3836\n7834\n1663\n\n2930\n5964\n1707\n2899\n4160\n2193\n2705\n5799\n4612\n2741\n2333\n4969\n3117\n5276\n1747\n\n62287\n\n4321\n22825\n5690\n\n7287\n1774\n4464\n2273\n2903\n8920\n4092\n8072\n8763\n\n8885\n7470\n3145\n3523\n5647\n1067\n3048\n\n6923\n6463\n4032\n5923\n1982\n4331\n6323\n1192\n5583\n5470\n6476\n5889\n2991\n\n6697\n1560\n5520\n4516\n4845\n3035\n6047\n4906\n4596\n1934\n7245\n4476\n\n4001\n7227\n5720\n3195\n8505\n6612\n4012\n4050\n8659\n3804\n\n8332\n3362\n4926\n4307\n4779\n1856\n7350\n4068\n8592\n2415\n\n60630\n\n4263\n1716\n8004\n5253\n2004\n5381\n5614\n3020\n5985\n5587\n3563\n\n18645\n10906\n3077\n2255\n\n59591\n\n3203\n7739\n2234\n1421\n3353\n5031\n6395\n5614\n\n6259\n8748\n4341\n7788\n1074\n8497\n3996\n1294\n5197\n5779\n\n10765\n5009\n3541\n2298\n10698\n13317\n\n6181\n1305\n6527\n2125\n9085\n2889\n8794\n3265\n4166\n\n3607\n1912\n1927\n6455\n1043\n6949\n2542\n1552\n3064\n2009\n6587\n\n5574\n4632\n5869\n4312\n1703\n6124\n6479\n4556\n5917\n5890\n4949\n5614\n5576\n\n2267\n7221\n5412\n5721\n2931\n3149\n6934\n3520\n6237\n4317\n1295\n6450\n\n12143\n7105\n2050\n9391\n3017\n10750\n\n4649\n2052\n1856\n3055\n2132\n6630\n5964\n5505\n3395\n2080\n\n4388\n6963\n2613\n1055\n6588\n1348\n3752\n5538\n4524\n7994\n3977\n\n5444\n6078\n8572\n10427\n5423\n3812\n1984\n\n9248\n17691\n12948\n17445\n\n5807\n3737\n5304\n1495\n5162\n1178\n6053\n5597\n5645\n2267\n4333\n3455\n4086\n2024\n4127\n\n5502\n3665\n3494\n1502\n4702\n4563\n5216\n6486\n1931\n6493\n4618\n3960\n1149\n5109\n\n2198\n1411\n4511\n1913\n4173\n4446\n6176\n2305\n4748\n4560\n4048\n5361\n4481\n\n30924\n\n15726\n4014\n20018\n2880\n\n3345\n2576\n4787\n2186\n2156\n2989\n4400\n5147\n5393\n2830\n5869\n4839\n2860\n2134\n\n2400\n2009\n2634\n4431\n7342\n5534\n2072\n5520\n5518\n2998\n3686\n4906\n\n10948\n12532\n11104\n7815\n\n5883\n6111\n4117\n3590\n3295\n3984\n2950\n6814\n1123\n4642\n1770\n2029\n4406\n\n19302\n1549\n10378\n13976\n\n4852\n7261\n4206\n12867\n8400\n11611\n\n2587\n3559\n1415\n5308\n3732\n6752\n3804\n1720\n2570\n5106\n6658\n5105\n6156\n\n7380\n10456\n8378\n10778\n9788\n1299\n10299\n\n3596\n5969\n8288\n3025\n8196\n6410\n5966\n3060\n3015\n1270\n\n14103\n5510\n13362\n19169\n\n3056\n3546\n7784\n2262\n3791\n3159\n5386\n6489\n3421\n7995\n4498\n\n27239\n\n9345\n8921\n5252\n1154\n3189\n1175\n3216\n3282\n9392\n\n2821\n7731\n8002\n1351\n5951\n4544\n3688\n4855\n8082\n1428\n5613\n\n6506\n2529\n6614\n3938\n4404\n5581\n1984\n6242\n7589\n\n8393\n6631\n5200\n9914\n10229\n2405\n3933\n9333\n\n6766\n3486\n11457\n3098\n\n5091\n4105\n1368\n4682\n3094\n4077\n5876\n1958\n1641\n3925\n2969\n3780\n5489\n\n10434\n2285\n2830\n6976\n3561\n6756\n\n3944\n2998\n1874\n4642\n4634\n2155\n2221\n2270\n2446\n1514\n5382\n4333\n5441\n2412\n1789\n\n2433\n4036\n6005\n1551\n7281\n8466\n2141\n4190\n\n5103\n6956\n5839\n2237\n7177\n6397\n11533\n\n7100\n3476\n4592\n6502\n3322\n10524\n2973\n10712\n\n3440\n1323\n1316\n1979\n1168\n6432\n3512\n5739\n2131\n4504\n5233\n3726\n6371\n6125\n\n1917\n3442\n4104\n6123\n1657\n3139\n1690\n3323\n1269\n1407\n5603\n4819\n1787\n2340\n\n11143\n9483\n9438\n12565\n7187\n13478\n\n6406\n2289\n8029\n1790\n5009\n6300\n2521\n\n8040\n6772\n3244\n5246\n6455\n6715\n4024\n3855\n6458\n4945\n4207\n\n4628\n4872\n3344\n5675\n3761\n4467\n5113\n5746\n4140\n\n9532\n1992\n5741\n8559\n4606\n6310\n5183\n\n7530\n13402\n8481\n8327\n\n17909\n7813\n12567\n9674\n\n3329\n6032\n5539\n5513\n2555\n4767\n1085\n3329\n5138\n4448\n4082\n5569\n2732\n3326\n\n2019\n3327\n3701\n3145\n1943\n1467\n1913\n5141\n7475\n7026\n4964\n2353\n\n3375\n1186\n2890\n1248\n5696\n5993\n3804\n1133\n2035\n5068\n4280\n2123\n1890\n\n8675\n10684\n22636\n\n2704\n1093\n9357\n7940\n4843\n1118\n5533\n8943\n6492\n\n67791\n\n7101\n3406\n8840\n3652\n9258\n5329\n4562\n5314\n9146\n\n3673\n13526\n2792\n5659\n13396\n8400\n\n2492\n5265\n5244\n2173\n5032\n1182\n1486\n4561\n4673\n2480\n5148\n1375\n1093\n\n1368\n5899\n6527\n7584\n2148\n2960\n7701\n5381\n6149\n2589\n7496\n\n12206\n11842\n11444\n12447\n\n3417\n5044\n7116\n5491\n9020\n8610\n1047\n5725\n2712\n\n9153\n1836\n3337\n1686\n6044\n8786\n7476\n1688\n\n17559\n10138\n16446\n\n15625\n16403\n16979\n7402\n\n3561\n2910\n12805\n8128\n13171\n5786\n\n1332\n\n1135\n5954\n9216\n5471\n3494\n9353\n6330\n4152\n\n2031\n2180\n1544\n2509\n3894\n2882\n1460\n6647\n4655\n3164\n6691\n2156\n5754\n\n2309\n5397\n6055\n5585\n9712\n9731\n9274\n\n9865\n7291\n4863\n10688\n4135\n4572\n7321\n5603\n\n1428\n5533\n4032\n1648\n1676\n5556\n1186\n4594\n5915\n2477\n4923\n5393\n2101\n2509\n1250\n\n2388\n2255\n3768\n5340\n4357\n5600\n4198\n6423\n5974\n5673\n3717\n3275\n5871\n3250\n\n11192\n1266\n3583\n10707\n11653\n3264\n6641\n\n2009\n12343\n2394\n2147\n1560\n4352\n\n5152\n6000\n6725\n3479\n1229\n1599\n3971\n6829\n8654\n\n7486\n15798\n2011\n9551\n15283\n\n8934\n27039\n\n2048\n7506\n3661\n7298\n8557\n6387\n6496\n4471\n8596\n5325\n\n1760\n2615\n1038\n9295\n6394\n7329\n5015\n4727\n9584\n\n40347\n\n5992\n9771\n14112\n\n13049\n14348\n13202\n10630\n9351\n\n8778\n9152\n10173\n8648\n4552\n4300\n5921\n9924\n\n26578\n34718\n\n2974\n3130\n4319\n4116\n3484\n5362\n5583\n2885\n4526\n2756\n5977\n2629\n2429\n1755\n1278\n\n2848\n4821\n2207\n6922\n6699\n1999\n2354\n1922\n2133\n4496\n2510\n6509\n6929\n\n5345\n3244\n2145\n1243\n1245\n2210\n5939\n3311\n6482\n5700\n3395\n2508\n3893\n6405\n\n3618\n2718\n4854\n1334\n3478\n3043\n3466\n1028\n2627\n3873\n4878\n5160\n6017\n4880\n1342\n\n9909\n7167\n7465\n7787\n10618\n6259\n3751\n1488\n\n24782\n13684\n1905\n\n5325\n9319\n7321\n6398\n8841\n3773\n2807\n9032\n2572\n\n5346\n7500\n8693\n9429\n1728\n1303\n2467\n3959\n8196\n\n6220\n6193\n4246\n3802\n6433\n4710\n3059\n2880\n6077\n1924\n5892\n\n3421\n1973\n9474\n3990\n15878\n\n6757\n9558\n9440\n8896\n5221\n3819\n6669\n1578\n7307\n\n2015\n5934\n2351\n4738\n6504\n1748\n5112\n4067\n1623\n1944\n6297\n3300\n1089\n\n1757\n4617\n8124\n6837\n4685\n9532\n11427\n\n9094\n6552\n3882\n5341\n10752\n5572\n5882\n\n5806\n3599\n1885\n4608\n6756\n4656\n1160\n4783\n2759\n3006\n3044\n5491\n6877\n\n6295\n18921\n23198\n\n2201\n2488\n1050\n1414\n2799\n3883\n7092\n4746\n3719\n3211\n1548\n\n2656\n3600\n5148\n2300\n5547\n8226\n6952\n2611\n2268\n6490\n\n5499\n8937\n12091\n1429\n9253\n2187\n2660\n\n12898\n\n3536\n3120\n6811\n2427\n2710\n2100\n2030\n7003\n3932\n3514\n6390\n6017\n\n7645\n3909\n2219\n2290\n1401\n1812\n3180\n7733\n2547\n2653";
}
